!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t||self).lenis=i()}(this,function(){var t="1.0.1";function i(t,i,e){return Math.max(t,Math.min(i,e))}var e=/*#__PURE__*/function(){function t(){}var e=t.prototype;return e.advance=function(t){var e;if(this.isRunning){var o,n=!1;if(this.lerp)this.value=(1-(o=this.lerp))*this.value+o*this.to,Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=t;var s=i(0,this.currentTime/this.duration,1),r=(n=s>=1)?1:this.easing(s);this.value=this.from+(this.to-this.from)*r}null==(e=this.onUpdate)||e.call(this,this.value,{completed:n}),n&&this.stop()}},e.stop=function(){this.isRunning=!1},e.fromTo=function(t,i,e){var o=e.lerp,n=void 0===o?.1:o,s=e.duration,r=void 0===s?1:s,l=e.easing,h=void 0===l?function(t){return t}:l,a=e.onUpdate;this.from=this.value=t,this.to=i,this.lerp=n,this.duration=r,this.easing=h,this.currentTime=0,this.isRunning=!0,this.onUpdate=a},t}(),o=function(){return{events:{},emit:function(t){for(var i=this.events[t]||[],e=0,o=i.length;e<o;e++)i[e].apply(i,[].slice.call(arguments,1))},on:function(t,i){var e,o,n=this;return(null!=(o=(e=this.events)[t])?o:e[t]=[]).push(i),function(){n.events[t]=n.events[t].filter(function(t){return i!==t})}}}},n=/*#__PURE__*/function(){function t(t){this.element=t,t===window?(window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize()):(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(this.element))}var i=t.prototype;return i.destroy=function(){window.removeEventListener("resize",this.onWindowResize.bind(this)),this.resizeObserver.disconnect()},i.onResize=function(t){var i=t[0];if(i){var e=i.contentRect,o=e.height;this.width=e.width,this.height=o}},i.onWindowResize=function(){this.width=window.innerWidth,this.height=window.innerHeight},t}(),s=/*#__PURE__*/function(){function t(t,e){var n=this,s=e.wheelMultiplier,r=void 0===s?1:s,l=e.touchMultiplier,h=void 0===l?2:l,a=e.normalizeWheel,u=void 0!==a&&a;this.onTouchStart=function(t){var i=t.targetTouches?t.targetTouches[0]:t,e=i.pageY;n.touchStart.x=i.pageX,n.touchStart.y=e},this.onTouchMove=function(t){var i=t.targetTouches?t.targetTouches[0]:t,e=i.pageX,o=i.pageY,s=-(e-n.touchStart.x)*n.touchMultiplier,r=-(o-n.touchStart.y)*n.touchMultiplier;n.touchStart.x=e,n.touchStart.y=o,n.emitter.emit("scroll",{type:"touch",deltaX:s,deltaY:r,event:t})},this.onWheel=function(t){var e=t.deltaX,o=t.deltaY;n.normalizeWheel&&(e=i(-100,e,100),o=i(-100,o,100)),n.emitter.emit("scroll",{type:"wheel",deltaX:e*=n.wheelMultiplier,deltaY:o*=n.wheelMultiplier,event:t})},this.element=t,this.wheelMultiplier=r,this.touchMultiplier=h,this.normalizeWheel=u,this.touchStart={x:null,y:null},this.emitter=o(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1})}var e=t.prototype;return e.on=function(t,i){return this.emitter.on(t,i)},e.destroy=function(){this.emitter.events={},this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1})},t}();/*#__PURE__*/
return function(){function r(i){var r=void 0===i?{}:i,l=r.direction,h=r.gestureDirection,a=r.mouseMultiplier,u=r.smooth,c=r.wrapper,d=void 0===c?window:c,p=r.content,m=void 0===p?document.documentElement:p,v=r.smoothWheel,f=void 0===v?null==u||u:v,g=r.smoothTouch,S=void 0!==g&&g,w=r.duration,y=r.easing,b=void 0===y?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:y,M=r.lerp,z=void 0===M?w?null:.1:M,T=r.infinite,E=void 0!==T&&T,L=r.orientation,W=void 0===L?null!=l?l:"vertical":L,_=r.gestureOrientation,k=void 0===_?null!=h?h:"vertical":_,O=r.touchMultiplier,R=void 0===O?2:O,P=r.wheelMultiplier,H=void 0===P?null!=a?a:1:P,x=r.normalizeWheel,X=void 0===x||x;l&&console.warn("Lenis: `direction` option is deprecated, use `orientation` instead"),h&&console.warn("Lenis: `gestureDirection` option is deprecated, use `gestureOrientation` instead"),a&&console.warn("Lenis: `mouseMultiplier` option is deprecated, use `wheelMultiplier` instead"),u&&console.warn("Lenis: `smooth` option is deprecated, use `smoothWheel` instead"),window.lenisVersion=t,d!==document.documentElement&&d!==document.body||(d=window),this.options={wrapper:d,content:m,smoothWheel:f,smoothTouch:S,duration:w,easing:b,lerp:z,infinite:E,gestureOrientation:k,orientation:W,touchMultiplier:R,wheelMultiplier:H,normalizeWheel:X},this.wrapper=new n(d),this.content=new n(m),this.rootElement.classList.add("lenis"),this.velocity=0,this.isStopped=!1,this.isSmooth=f||S,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.animate=new e,this.emitter=o(),this.plugins=[],this.wrapper.element.addEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll=new s(d,{touchMultiplier:R,wheelMultiplier:H,normalizeWheel:X}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.initializePlugins()}var l,h,a=r.prototype;return a.destroy=function(){this.emitter.events={},this.wrapper.element.removeEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll.destroy()},a.on=function(t,i){return this.emitter.on(t,i)},a.off=function(t,i){var e;this.emitter.events[t]=null==(e=this.emitter.events[t])?void 0:e.filter(function(t){return i!==t})},a.setScroll=function(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t},a.onVirtualScroll=function(t){var i=t.type,e=t.deltaX,o=t.deltaY,n=t.event;if(!n.ctrlKey&&!("vertical"===this.options.gestureOrientation&&0===o||"horizontal"===this.options.gestureOrientation&&0===e||n.composedPath().find(function(t){return null==t||null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent")})))if(this.isStopped||this.isLocked)n.preventDefault();else{if(this.isSmooth=this.options.smoothTouch&&"touch"===i||this.options.smoothWheel&&"wheel"===i,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();n.preventDefault();var s=o;"both"===this.options.gestureOrientation?s=Math.abs(o)>Math.abs(e)?o:e:"horizontal"===this.options.gestureOrientation&&(s=e),this.scrollTo(this.targetScroll+s,{programmatic:!1})}},a.emit=function(){this.emitter.emit("scroll",this)},a.onScroll=function(){if(!this.isScrolling){var t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-t),this.emit()}},a.reset=function(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0},a.start=function(){this.isStopped=!1,this.reset()},a.stop=function(){this.isStopped=!0,this.animate.stop(),this.reset()},a.raf=function(t){var i=t-(this.time||t);this.time=t,this.animate.advance(.001*i)},a.scrollTo=function(t,e){var o=this,n=void 0===e?{}:e,s=n.offset,r=void 0===s?0:s,l=n.immediate,h=void 0!==l&&l,a=n.lock,u=void 0!==a&&a,c=n.duration,d=void 0===c?this.options.duration:c,p=n.easing,m=void 0===p?this.options.easing:p,v=n.lerp,f=void 0===v?!d&&this.options.lerp:v,g=n.onComplete,S=n.force,w=n.programmatic,y=void 0===w||w;if(!this.isStopped||void 0!==S&&S){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{var b,M;if("string"==typeof t?M=document.querySelector(t):null!=(b=t)&&b.nodeType&&(M=t),M){if(this.wrapper.element!==window){var z=this.wrapper.element.getBoundingClientRect();r-=this.isHorizontal?z.left:z.top}var T=M.getBoundingClientRect();t=(this.isHorizontal?T.left:T.top)+this.animatedScroll}}if("number"==typeof t){if(t+=r,t=Math.round(t),this.options.infinite?y&&(this.targetScroll=this.animatedScroll=this.scroll):t=i(0,t,this.limit),h)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.animate.stop(),this.reset(),this.emit(),void(null==g||g());y||(this.targetScroll=t),this.animate.fromTo(this.animatedScroll,t,{duration:d,easing:m,lerp:f,onUpdate:function(t,i){var e=i.completed;u&&(o.isLocked=!0),o.isScrolling=!0,o.velocity=t-o.animatedScroll,o.direction=Math.sign(o.velocity),o.animatedScroll=t,o.setScroll(o.scroll),y&&(o.targetScroll=t),e&&(u&&(o.isLocked=!1),requestAnimationFrame(function(){o.isScrolling=!1}),o.velocity=0,null==g||g()),o.emit()}})}}},a.registerPlugin=function(t){if("function"!=typeof t)throw new Error("Plugin must be a function");this.plugins.push(t)},a.initializePlugins=function(){var t=this;this.plugins.forEach(function(i){i(t)})},l=r,(h=[{key:"rootElement",get:function(){return this.wrapper.element===window?this.content.element:this.wrapper.element}},{key:"limit",get:function(){return Math.round(this.isHorizontal?this.content.width-this.wrapper.width:this.content.height-this.wrapper.height)}},{key:"isHorizontal",get:function(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function(){return this.options.infinite?(i=this.animatedScroll%(t=this.limit),t>0&&i<0||t<0&&i>0?i+t:i):this.animatedScroll;var t,i}},{key:"progress",get:function(){return this.scroll/this.limit}},{key:"isSmooth",get:function(){return this.__isSmooth},set:function(t){this.__isSmooth!==t&&(this.rootElement.classList.toggle("lenis-smooth",t),this.__isSmooth=t)}},{key:"isScrolling",get:function(){return this.__isScrolling},set:function(t){this.__isScrolling!==t&&(this.rootElement.classList.toggle("lenis-scrolling",t),this.__isScrolling=t)}},{key:"isStopped",get:function(){return this.__isStopped},set:function(t){this.__isStopped!==t&&(this.rootElement.classList.toggle("lenis-stopped",t),this.__isStopped=t)}}])&&function(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,"symbol"==typeof(n=function(t,i){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key))?n:String(n),o)}var n}(l.prototype,h),Object.defineProperty(l,"prototype",{writable:!1}),r}()});
//# sourceMappingURL=lenis.umd.js.map
