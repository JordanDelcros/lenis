!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t||self)["'Lenis'"]=e()}(this,function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},o.apply(this,arguments)}function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function i(){}i.prototype={on:function(t,e,o){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:o}),this},once:function(t,e,o){var n=this;function i(){n.off(t,i),e.apply(o,arguments)}return i._=e,this.on(t,i,o)},emit:function(t){for(var e=[].slice.call(arguments,1),o=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=o.length;n<i;n++)o[n].fn.apply(o[n].ctx,e);return this},off:function(t,e){var o=this.e||(this.e={}),n=o[t],i=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&i.push(n[r]);return i.length?o[t]=i:delete o[t],this}};var r=i;r.TinyEmitter=i,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var s=function(t){var e={exports:{}};return function(t,e){t.exports=function(){var t=0;function e(e){return"__private_"+t+++"_"+e}function o(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}function n(){}n.prototype={on:function(t,e,o){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:o}),this},once:function(t,e,o){var n=this;function i(){n.off(t,i),e.apply(o,arguments)}return i._=e,this.on(t,i,o)},emit:function(t){for(var e=[].slice.call(arguments,1),o=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=o.length;n<i;n++)o[n].fn.apply(o[n].ctx,e);return this},off:function(t,e){var o=this.e||(this.e={}),n=o[t],i=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&i.push(n[r]);return i.length?o[t]=i:delete o[t],this}};var i=n;i.TinyEmitter=n;var r,s="virtualscroll",a=e("options"),l=e("el"),h=e("emitter"),c=e("event"),u=e("touchStart"),d=e("bodyTouchAction");return function(){function t(t){var e=this;Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this._onWheel=function(t){var n=o(e,a)[a],i=o(e,c)[c];i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,r.isFirefox&&1===t.deltaMode&&(i.deltaX*=n.firefoxMultiplier,i.deltaY*=n.firefoxMultiplier),i.deltaX*=n.mouseMultiplier,i.deltaY*=n.mouseMultiplier,e._notify(t)},this._onMouseWheel=function(t){var n=o(e,c)[c];n.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,n.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,e._notify(t)},this._onTouchStart=function(t){var n=t.targetTouches?t.targetTouches[0]:t;o(e,u)[u].x=n.pageX,o(e,u)[u].y=n.pageY},this._onTouchMove=function(t){var n=o(e,a)[a];n.preventTouch&&!t.target.classList.contains(n.unpreventTouchClass)&&t.preventDefault();var i=o(e,c)[c],r=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(r.pageX-o(e,u)[u].x)*n.touchMultiplier,i.deltaY=(r.pageY-o(e,u)[u].y)*n.touchMultiplier,o(e,u)[u].x=r.pageX,o(e,u)[u].y=r.pageY,e._notify(t)},this._onKeyDown=function(t){var n=o(e,c)[c];n.deltaX=n.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:n.deltaY=o(e,a)[a].keyStep;break;case 39:case 40:n.deltaY=-o(e,a)[a].keyStep;break;case 32:n.deltaY=i*(t.shiftKey?1:-1);break;default:return}e._notify(t)},o(this,l)[l]=window,t&&t.el&&(o(this,l)[l]=t.el,delete t.el),r||(r={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}),o(this,a)[a]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},t),o(this,h)[h]=new i,o(this,c)[c]={y:0,x:0,deltaX:0,deltaY:0},o(this,u)[u]={x:null,y:null},o(this,d)[d]=null,void 0!==o(this,a)[a].passive&&(this.listenerOptions={passive:o(this,a)[a].passive})}var e=t.prototype;return e._notify=function(t){var e=o(this,c)[c];e.x+=e.deltaX,e.y+=e.deltaY,o(this,h)[h].emit(s,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},e._bind=function(){r.hasWheelEvent&&o(this,l)[l].addEventListener("wheel",this._onWheel,this.listenerOptions),r.hasMouseWheelEvent&&o(this,l)[l].addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),r.hasTouch&&o(this,a)[a].useTouch&&(o(this,l)[l].addEventListener("touchstart",this._onTouchStart,this.listenerOptions),o(this,l)[l].addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),r.hasPointer&&r.hasTouchWin&&(o(this,d)[d]=document.body.style.msTouchAction,document.body.style.msTouchAction="none",o(this,l)[l].addEventListener("MSPointerDown",this._onTouchStart,!0),o(this,l)[l].addEventListener("MSPointerMove",this._onTouchMove,!0)),r.hasKeyDown&&o(this,a)[a].useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},e._unbind=function(){r.hasWheelEvent&&o(this,l)[l].removeEventListener("wheel",this._onWheel),r.hasMouseWheelEvent&&o(this,l)[l].removeEventListener("mousewheel",this._onMouseWheel),r.hasTouch&&(o(this,l)[l].removeEventListener("touchstart",this._onTouchStart),o(this,l)[l].removeEventListener("touchmove",this._onTouchMove)),r.hasPointer&&r.hasTouchWin&&(document.body.style.msTouchAction=o(this,d)[d],o(this,l)[l].removeEventListener("MSPointerDown",this._onTouchStart,!0),o(this,l)[l].removeEventListener("MSPointerMove",this._onTouchMove,!0)),r.hasKeyDown&&o(this,a)[a].useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},e.on=function(t,e){o(this,h)[h].on(s,t,e);var n=o(this,h)[h].e;n&&n[s]&&1===n[s].length&&this._bind()},e.off=function(t,e){o(this,h)[h].off(s,t,e);var n=o(this,h)[h].e;(!n[s]||n[s].length<=0)&&this._unbind()},e.destroy=function(){o(this,h)[h].off(),this._unbind()},t}()}()}(e),e.exports}(),a="0.2.1";function l(t,e,o){return Math.max(t,Math.min(e,o))}var h=["duration","easing"],c=/*#__PURE__*/function(){function t(){}var n=t.prototype;return n.to=function(t,e){var n=this,i=void 0===e?{}:e,r=i.duration,s=void 0===r?1:r,a=i.easing,l=void 0===a?function(t){return t}:a,c=function(t,e){if(null==t)return{};var o,n,i={},r=Object.keys(t);for(n=0;n<r.length;n++)e.indexOf(o=r[n])>=0||(i[o]=t[o]);return i}(i,h);this.target=t,this.fromKeys=o({},c),this.toKeys=o({},c),this.keys=Object.keys(o({},c)),this.keys.forEach(function(e){n.fromKeys[e]=t[e]}),this.duration=s,this.easing=l,this.currentTime=0,this.isRunning=!0},n.raf=function(t){var e=this;if(this.isRunning){this.currentTime=Math.min(this.currentTime+.001*t,this.duration);var o=this.easing(this.progress);this.keys.forEach(function(t){var n=e.fromKeys[t];e.target[t]=n+(e.toKeys[t]-n)*o}),1===o&&(this.isRunning=!1)}},e(t,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),t}(),u=/*#__PURE__*/function(t){var o,i;function r(e){var o,n,i,r,h=void 0===e?{}:e,u=h.duration,d=void 0===u?1.2:u,p=h.easing,f=void 0===p?function(t){return 1===t?1:1-Math.pow(2,-10*t)}:p,v=h.smooth,y=void 0===v||v,w=h.direction,g=void 0===w?"vertical":w,m=h.wrapper,b=void 0===m?window:m,T=h.content,S=void 0===T?document.body:T;(r=t.call(this)||this).onWindowResize=function(){r.wrapperWidth=window.innerWidth,r.wrapperHeight=window.innerHeight},r.stopPropagation=function(t){t.stopPropagation()},r.onContentUpdate=function(t){r.smooth&&(r.nestedNodes=r.nestedNodes.filter(function(t){var e=document.body.contains(t);return e||t.removeEventListener("wheel",r.stopPropagation),e}),t.filter(function(t){return t.addedNodes[0]}).forEach(function(t){Array.from(t.addedNodes).forEach(function(t){r.nestedNodes=[].concat(r.nestedNodes,Array.from(t.querySelectorAll("[data-lenis-stop-propagation]"))),t.getAttribute("data-lenis-stop-propagation")&&r.nestedNodes.push(t)})}),r.nestedNodes.forEach(function(t){t.addEventListener("wheel",r.stopPropagation)}))},r.onWrapperResize=function(t){var e=t[0];if(e){var o=e.contentRect;r.wrapperWidth=o.width,r.wrapperHeight=o.height}},r.onContentResize=function(t){var e=t[0];if(e){var o=e.contentRect;r.contentWidth=o.width,r.contentHeight=o.height}},r.onVirtualScroll=function(t){var e=t.deltaY,o=t.originalEvent;!o.ctrlKey&&r.smooth&&(r.stopped?o.preventDefault():(r.smooth&&o.preventDefault(),r.targetScroll-=e,r.targetScroll=l(0,r.targetScroll,r.limit),r.scrollTo(r.targetScroll)))},r.onScroll=function(){r.isScrolling&&r.smooth||(r.targetScroll=r.scroll=r.lastScroll=r.wrapperNode[r.scrollProperty],r.notify())},void 0!==arguments[0].lerp&&console.warn("Lenis: lerp option is deprecated, you must use duration and easing options instead. See documentation https://github.com/studio-freight/lenis"),window.lenisVersion=a,r.wrapperNode=b,r.contentNode=S,r.duration=d,r.easing=f,r.smooth=y,r.direction=g,r.animate=new c,r.wrapperNode.addEventListener("scroll",r.onScroll);var O=(null==(o=navigator)||null==(n=o.userAgentData)?void 0:n.platform)||(null==(i=navigator)?void 0:i.platform)||"unknown";return r.virtualScroll=new s({el:r.wrapperNode,firefoxMultiplier:50,mouseMultiplier:O.indexOf("Win")>-1?1:.4,useKeyboard:!1,useTouch:!1,passive:!1}),r.virtualScroll.on(r.onVirtualScroll),r.wrapperNode===window?(r.wrapperNode.addEventListener("resize",r.onWindowResize),r.onWindowResize()):(r.wrapperHeight=r.wrapperNode.offsetHeight,r.wrapperWidth=r.wrapperNode.offsetWidth,r.wrapperObserver=new ResizeObserver(r.onWrapperResize),r.wrapperObserver.observe(r.wrapperNode)),r.nestedNodes=Array.from(r.contentNode.querySelectorAll("[data-lenis-stop-propagation]")),r.contentMutationObserver=new MutationObserver(r.onContentUpdate),r.contentMutationObserver.observe(r.contentNode,{childList:!0,subtree:!0}),r.contentHeight=r.contentNode.offsetHeight,r.contentWidth=r.contentNode.offsetWidth,r.contentObserver=new ResizeObserver(r.onContentResize),r.contentObserver.observe(r.contentNode),r.targetScroll=r.scroll=r.lastScroll=r.wrapperNode[r.scrollProperty],r}i=t,(o=r).prototype=Object.create(i.prototype),o.prototype.constructor=o,n(o,i);var h=r.prototype;return h.start=function(){this.stopped=!1},h.stop=function(){this.stopped=!0},h.destroy=function(){var t,e=this;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.nestedNodes.forEach(function(t){t.removeEventListener("wheel",e.stopPropagation)}),this.virtualScroll.destroy(),null==(t=this.wrapperObserver)||t.disconnect(),this.contentObserver.disconnect(),this.contentMutationObserver.disconnect()},h.raf=function(t){var e=t-this.now;this.now=t,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(e),Math.round(this.scroll)===Math.round(this.targetScroll)&&(this.lastScroll=this.targetScroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},h.setScroll=function(t){"horizontal"===this.direction?this.wrapperNode.scrollTo(t,0):this.wrapperNode.scrollTo(0,t)},h.notify=function(){this.emit("scroll",{scroll:this.scroll,limit:this.limit,velocity:this.velocity,direction:this.direction,progress:this.scroll/this.limit})},h.scrollTo=function(t,e){var o,n=void 0===e?{}:e,i=n.offset,r=n.immediate,s=void 0!==r&&r,a=n.duration,l=void 0===a?this.duration:a,h=n.easing,c=void 0===h?this.easing:h;o="number"==typeof t?t:0,this.targetScroll=o+=void 0===i?0:i,!this.smooth||s?this.setScroll(this.targetScroll):this.animate.to(this,{duration:l,easing:c,scroll:this.targetScroll})},e(r,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?"horizontal"===this.direction?"scrollX":"scrollY":"horizontal"===this.direction?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return"horizontal"===this.direction?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),r}(r);return u});
